{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SADHIYA SAKEER\\\\wholesale\\\\wholesaler-phase1\\\\frontend\\\\src\\\\Pages\\\\inventory\\\\InventoryTable.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../../Styles/Inventory.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst columns = [\"Product\", \"Model ID\", \"Size\", \"Stock\", \"Price\", \"Actions\"];\nexport default function InventoryTable() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      console.log('Fetching products from:', 'http://localhost:8000/api/get-products/');\n      const response = await axios.get('http://localhost:8000/api/get-products/');\n      console.log('Products response:', response.data);\n      setProducts(response.data);\n      setError(null);\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error('Error fetching products:', err);\n      console.error('Error details:', (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n      setError(`Failed to load products: ${((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDelete = async productId => {\n    if (window.confirm('Are you sure you want to delete this product?')) {\n      try {\n        await axios.delete(`http://localhost:8000/api/delete-product/${productId}/`);\n        fetchProducts(); // Refresh the list\n      } catch (err) {\n        console.error('Error deleting product:', err);\n        alert('Failed to delete product');\n      }\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: \"Loading products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px',\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"inventory-table\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: columns.map((col, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n          children: col\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: products.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          colSpan: 6,\n          style: {\n            textAlign: 'center',\n            padding: '20px'\n          },\n          children: \"No products found. Add some products to get started!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this) : products.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-img-placeholder\",\n              children: \"40\\xD740\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-name\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-variant\",\n                children: [\"ID: \", item.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.model_no\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.size\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.pieces\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\"\\u20B9\", parseFloat(item.price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"edit-link\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"delete-link\",\n            onClick: () => handleDelete(item.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(InventoryTable, \"3+N/VFIgZOBgubN9oS5aTzm2qqY=\");\n_c = InventoryTable;\nvar _c;\n$RefreshReg$(_c, \"InventoryTable\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","columns","InventoryTable","_s","products","setProducts","loading","setLoading","error","setError","fetchProducts","console","log","response","get","data","err","_err$response","_err$response2","_err$response2$data","detail","message","handleDelete","productId","window","confirm","delete","alert","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","color","className","map","col","index","length","colSpan","item","name","id","model_no","size","pieces","parseFloat","price","toFixed","onClick","_c","$RefreshReg$"],"sources":["C:/Users/SADHIYA SAKEER/wholesale/wholesaler-phase1/frontend/src/Pages/inventory/InventoryTable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport '../../Styles/Inventory.css'\r\n\r\nconst columns = [\"Product\", \"Model ID\", \"Size\", \"Stock\", \"Price\", \"Actions\"];\r\n\r\nexport default function InventoryTable (){\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    const fetchProducts = async () => {\r\n        try {\r\n            setLoading(true);\r\n            console.log('Fetching products from:', 'http://localhost:8000/api/get-products/');\r\n            const response = await axios.get('http://localhost:8000/api/get-products/');\r\n            console.log('Products response:', response.data);\r\n            setProducts(response.data);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('Error fetching products:', err);\r\n            console.error('Error details:', err.response?.data);\r\n            setError(`Failed to load products: ${err.response?.data?.detail || err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (productId) => {\r\n        if (window.confirm('Are you sure you want to delete this product?')) {\r\n            try {\r\n                await axios.delete(`http://localhost:8000/api/delete-product/${productId}/`);\r\n                fetchProducts(); // Refresh the list\r\n            } catch (err) {\r\n                console.error('Error deleting product:', err);\r\n                alert('Failed to delete product');\r\n            }\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return <div style={{ textAlign: 'center', padding: '20px' }}>Loading products...</div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div style={{ textAlign: 'center', padding: '20px', color: 'red' }}>{error}</div>;\r\n    }\r\n\r\n    return(\r\n        <table className=\"inventory-table\">\r\n        <thead>\r\n          <tr>\r\n            {columns.map((col, index) => (\r\n            <th key={index}>{col}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.length === 0 ? (\r\n            <tr>\r\n              <td colSpan={6} style={{ textAlign: 'center', padding: '20px' }}>\r\n                No products found. Add some products to get started!\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            products.map((item) => (\r\n              <tr key={item.id}>\r\n                <td>\r\n                  <div className=\"product-info\">\r\n                    <div className=\"product-img-placeholder\">40×40</div>\r\n                    <div>\r\n                      <div className=\"product-name\">{item.name}</div>\r\n                      <div className=\"product-variant\">ID: {item.id}</div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>{item.model_no}</td>\r\n                <td>{item.size}</td>\r\n                <td>{item.pieces}</td>\r\n                <td>₹{parseFloat(item.price).toFixed(2)}</td>\r\n                <td>\r\n                  <span className=\"edit-link\">Edit</span> \r\n                  <span className=\"delete-link\" onClick={() => handleDelete(item.id)}>Delete</span>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          )}\r\n        </tbody>\r\n      </table>\r\n        \r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}